!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):t.partial=n()}(this,function(){"use strict";function t(t,n,i,e){return function(o,r){var a=e(t,n,i);return"function"==typeof a?a(o,r):a}}function n(i,e,o){var r={};for(var a in o||{})"function"==typeof o[a]?r[a]=t(i,e,r,o[a]):r[a]=n(i[a],e[a],o[a]);return r}function i(t){return t.partials=t.partials||{},t.state=t.state||{},t.actions=t.actions||{},t.views=t.views||{},t.init=[].concat(t.init||[]),Object.keys(t.partials).forEach(function(n){var e=i(t.partials[n]);t.state[n]=e.state,t.actions[n]=e.actions,t.views[n]=e.views,t.init=t.init.concat(function(t,n){return n.map(function(n){return function(i){n(i[t])}})}(n,e.init))}),t}return function(t){return function(e){var o=i(e),r=o.view;o.view=function(t,i){r(t,i,n(t,i,o.views))};var a=t(o);return o.init.forEach(function(t){t(a)}),a}}});